if(UNIX)
    set(CMAKE_C_FLAGS "-fPIC")
    set(CMAKE_CXX_FLAGS "-fPIC")
    message(STATUS "set C flag PIC")
endif()

if(CMAKE_SYSTEM_PROCESSOR MATCHES "(x86_64)|(AMD64|amd64)|(^i.86$)")
    set(CPU_FEATURES_DOTNET_PROCESSOR_IS_X86 TRUE)
    set(CPU_FEATURES_DOTNET_PROCESSOR_OUTPUT_NAME "x64")
    set(CPU_FEATURES_DOTNET_ARCH x64)
elseif(CMAKE_SYSTEM_PROCESSOR MATCHES "^arm")
    set(CPU_FEATURES_DOTNET_PROCESSOR_IS_ARM TRUE)
    set(CPU_FEATURES_DOTNET_PROCESSOR_OUTPUT_NAME "arm")
    set(CPU_FEATURES_DOTNET_ARCH arm)
elseif(CMAKE_SYSTEM_PROCESSOR MATCHES "^(aarch64|arm64)")
    set(CPU_FEATURES_DOTNET_PROCESSOR_IS_AARCH64 TRUE)
    set(CPU_FEATURES_DOTNET_PROCESSOR_OUTPUT_NAME "aarch64")
    set(CPU_FEATURES_DOTNET_ARCH arm64)
else()
    message(FATAL_ERROR "Unsupported system processor. CMAKE_SYSTEM_PROCESSOR=${CMAKE_SYSTEM_PROCESSOR}")
endif()

message(STATUS "CPU_FEATURES_DOTNET_PROCESSOR_OUTPUT_NAME=${CPU_FEATURES_DOTNET_PROCESSOR_OUTPUT_NAME}")
